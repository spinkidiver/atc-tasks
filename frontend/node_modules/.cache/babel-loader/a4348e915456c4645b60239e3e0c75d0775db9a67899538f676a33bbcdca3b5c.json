{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { VueGoodTable } from \"vue-good-table\";\nimport Task from \"@/app/task/domain/entities/Task\";\nimport { TaskRepositoryImpl } from \"@/app/task/infrastructure/repositories/TaskRepositoryImpl\";\nimport { ListTaskUseCase } from \"@/app/task/usecases\";\nimport { TableRequest, Order } from \"@/app/global/requests/dtos/TableRequest.ts\";\nimport \"vue-good-table/dist/vue-good-table.css\";\nimport { Dropdown, DropdownItem, DropdownMenu, Table, TableColumn } from \"element-ui\";\nexport default {\n  components: {\n    [Dropdown.name]: Dropdown,\n    [DropdownItem.name]: DropdownItem,\n    [DropdownMenu.name]: DropdownMenu,\n    [Table.name]: Table,\n    [TableColumn.name]: TableColumn,\n    [VueGoodTable.name]: VueGoodTable\n  },\n  data() {\n    return {\n      rows: [],\n      columns: [{\n        field: \"id\",\n        label: \"Id\"\n      }, {\n        field: \"name\",\n        label: \"Name\"\n      }, {\n        field: \"description\",\n        label: \"Description\"\n      }, {\n        field: \"status\",\n        label: \"Status\"\n      }, {\n        field: \"actions\",\n        label: \"Actions\",\n        sort: false\n      }],\n      query: {\n        limit: 10,\n        offset: 0,\n        order: Order.ASC,\n        current_page: 1,\n        sort_column: \"id\",\n        sort_direction: Order.ASC,\n        search: \"\"\n      },\n      showModal: false,\n      formData: {\n        name: \"\",\n        description: null,\n        status: \"low\",\n        completed: false,\n        expires_at: null\n      },\n      handleSubmit() {\n        // Agregar los datos del formulario a la tabla\n        this.items.push({\n          ...this.formData\n        });\n\n        // Limpiar formulario\n        this.formData.name = \"\";\n        this.formData.age = null;\n        this.formData.email = \"\";\n\n        // Cerrar modal\n        this.showModal = false;\n      }\n    };\n  },\n  mounted() {\n    this.fetchData();\n  },\n  methods: {\n    async fetchData() {\n      // store.isShowMainLoader = true;\n      try {\n        console.log(\"seses\");\n        const taskRepository = new TaskRepositoryImpl();\n        const listTaskUseCase = new ListTaskUseCase(taskRepository);\n        const data = await listTaskUseCase.execute(this.query);\n        console.log(data.data.data);\n        this.rows = data.data.data;\n        this.totalItems = data.total;\n      } catch (error) {\n        console.error(\"Error fetching categories\", error);\n      } finally {\n        // store.isShowMainLoader = false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["VueGoodTable","Task","TaskRepositoryImpl","ListTaskUseCase","TableRequest","Order","Dropdown","DropdownItem","DropdownMenu","Table","TableColumn","components","name","data","rows","columns","field","label","sort","query","limit","offset","order","ASC","current_page","sort_column","sort_direction","search","showModal","formData","description","status","completed","expires_at","handleSubmit","items","push","age","email","mounted","fetchData","methods","console","log","taskRepository","listTaskUseCase","execute","totalItems","total","error"],"sources":["src/app/task/interfaces/presentation/views/TaskView.vue"],"sourcesContent":["<template>\n  <div>\n    <base-header class=\"pb-6 pb-8 pt-5 pt-md-8 bg-gradient-success\">\n      <!-- Card stats -->\n      <b-row>\n        <b-col xl=\"3\" md=\"6\">\n          <stats-card\n            title=\"Total traffic\"\n            type=\"gradient-red\"\n            sub-title=\"350,897\"\n            icon=\"ni ni-active-40\"\n            class=\"mb-4\"\n          >\n            <template slot=\"footer\">\n              <span class=\"text-success mr-2\">3.48%</span>\n              <span class=\"text-nowrap\">Since last month</span>\n            </template>\n          </stats-card>\n        </b-col>\n      </b-row>\n    </base-header>\n    <b-container fluid class=\"mt-7\">\n      <b-row>\n        <b-col>\n          <b-card>\n            <b-card-header\n              class=\"d-flex justify-content-between align-items-center\"\n            >\n              <strong>Tasks</strong>\n              <b-button variant=\"primary\" size=\"sm\" @click=\"showModal = true\"\n                >Nueva Tarea</b-button\n              >\n            </b-card-header>\n            <b-card-body\n              ><vue-good-table :columns=\"columns\" :rows=\"rows\">\n              </vue-good-table>\n            </b-card-body>\n          </b-card>\n        </b-col>\n      </b-row>\n    </b-container>\n\n    <!-- Modal con formulario -->\n    <b-modal v-model=\"showModal\" title=\"Nuevo Registro\" @ok=\"handleSubmit\">\n      <form @submit.prevent=\"handleSubmit\">\n        <!-- Nombre -->\n        <b-form-group label=\"Nombre:\" label-for=\"name-input\">\n          <b-form-input\n            id=\"name-input\"\n            v-model=\"formData.name\"\n            required\n          ></b-form-input>\n        </b-form-group>\n\n        <!-- Descripción -->\n        <b-form-group label=\"Descripción:\" label-for=\"description-textarea\">\n          <b-form-textarea\n            id=\"description-textarea\"\n            v-model=\"formData.description\"\n            rows=\"3\"\n          ></b-form-textarea>\n        </b-form-group>\n\n        <!-- Estado -->\n        <b-form-group label=\"Estado:\" label-for=\"status-select\">\n          <b-form-select\n            id=\"status-select\"\n            v-model=\"formData.status\"\n            :options=\"['low', 'medium', 'high']\"\n            required\n          ></b-form-select>\n        </b-form-group>\n\n        <!-- Completado -->\n        <b-form-group\n          label=\"¿Completada?\"\n          label-cols-sm=\"4\"\n          label-align-sm=\"right\"\n        >\n          <b-form-checkbox\n            v-model=\"formData.completed\"\n            switch\n            size=\"lg\"\n          ></b-form-checkbox>\n        </b-form-group>\n\n        <!-- Fecha de expiración -->\n        <b-form-group label=\"Fecha de Expiración:\" label-for=\"expires-at-input\">\n          <b-form-input\n            id=\"expires-at-input\"\n            type=\"datetime-local\"\n            v-model=\"formData.expires_at\"\n          ></b-form-input>\n        </b-form-group>\n      </form>\n    </b-modal>\n  </div>\n</template>\n<script>\nimport { VueGoodTable } from \"vue-good-table\";\nimport Task from \"@/app/task/domain/entities/Task\";\nimport { TaskRepositoryImpl } from \"@/app/task/infrastructure/repositories/TaskRepositoryImpl\";\nimport { ListTaskUseCase } from \"@/app/task/usecases\";\nimport {\n  TableRequest,\n  Order,\n} from \"@/app/global/requests/dtos/TableRequest.ts\";\nimport \"vue-good-table/dist/vue-good-table.css\";\nimport {\n  Dropdown,\n  DropdownItem,\n  DropdownMenu,\n  Table,\n  TableColumn,\n} from \"element-ui\";\n\nexport default {\n  components: {\n    [Dropdown.name]: Dropdown,\n    [DropdownItem.name]: DropdownItem,\n    [DropdownMenu.name]: DropdownMenu,\n    [Table.name]: Table,\n    [TableColumn.name]: TableColumn,\n    [VueGoodTable.name]: VueGoodTable,\n  },\n  data() {\n    return {\n      rows: [],\n      columns: [\n        { field: \"id\", label: \"Id\" },\n        { field: \"name\", label: \"Name\" },\n        { field: \"description\", label: \"Description\" },\n        { field: \"status\", label: \"Status\" },\n        { field: \"actions\", label: \"Actions\", sort: false },\n      ],\n      query: {\n        limit: 10,\n        offset: 0,\n        order: Order.ASC,\n        current_page: 1,\n        sort_column: \"id\",\n        sort_direction: Order.ASC,\n        search: \"\",\n      },\n      showModal: false,\n\n      formData: {\n        name: \"\",\n        description: null,\n        status: \"low\",\n        completed: false,\n        expires_at: null,\n      },\n\n      handleSubmit() {\n        // Agregar los datos del formulario a la tabla\n        this.items.push({ ...this.formData });\n\n        // Limpiar formulario\n        this.formData.name = \"\";\n        this.formData.age = null;\n        this.formData.email = \"\";\n\n        // Cerrar modal\n        this.showModal = false;\n      },\n    };\n  },\n  mounted() {\n    this.fetchData();\n  },\n  methods: {\n    async fetchData() {\n      // store.isShowMainLoader = true;\n      try {\n        console.log(\"seses\");\n        const taskRepository = new TaskRepositoryImpl();\n        const listTaskUseCase = new ListTaskUseCase(taskRepository);\n        const data = await listTaskUseCase.execute(this.query);\n        console.log(data.data.data);\n        this.rows = data.data.data;\n        this.totalItems = data.total;\n      } catch (error) {\n        console.error(\"Error fetching categories\", error);\n      } finally {\n        // store.isShowMainLoader = false;\n      }\n    },\n  },\n};\n</script>\n<style>\n.el-table.table-dark {\n  background-color: #172b4d;\n  color: #f8f9fe;\n}\n\n.el-table.table-dark th,\n.el-table.table-dark tr {\n  background-color: #172b4d;\n}\n\n.el-table.table-dark td,\n.el-table.table-dark th.is-leaf {\n  border-bottom: none;\n}\n</style>\n"],"mappings":";AAmGA,SAAAA,YAAA;AACA,OAAAC,IAAA;AACA,SAAAC,kBAAA;AACA,SAAAC,eAAA;AACA,SACAC,YAAA,EACAC,KAAA,QACA;AACA;AACA,SACAC,QAAA,EACAC,YAAA,EACAC,YAAA,EACAC,KAAA,EACAC,WAAA,QACA;AAEA;EACAC,UAAA;IACA,CAAAL,QAAA,CAAAM,IAAA,GAAAN,QAAA;IACA,CAAAC,YAAA,CAAAK,IAAA,GAAAL,YAAA;IACA,CAAAC,YAAA,CAAAI,IAAA,GAAAJ,YAAA;IACA,CAAAC,KAAA,CAAAG,IAAA,GAAAH,KAAA;IACA,CAAAC,WAAA,CAAAE,IAAA,GAAAF,WAAA;IACA,CAAAV,YAAA,CAAAY,IAAA,GAAAZ;EACA;EACAa,KAAA;IACA;MACAC,IAAA;MACAC,OAAA,GACA;QAAAC,KAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,KAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,KAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,KAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,KAAA;QAAAC,KAAA;QAAAC,IAAA;MAAA,EACA;MACAC,KAAA;QACAC,KAAA;QACAC,MAAA;QACAC,KAAA,EAAAjB,KAAA,CAAAkB,GAAA;QACAC,YAAA;QACAC,WAAA;QACAC,cAAA,EAAArB,KAAA,CAAAkB,GAAA;QACAI,MAAA;MACA;MACAC,SAAA;MAEAC,QAAA;QACAjB,IAAA;QACAkB,WAAA;QACAC,MAAA;QACAC,SAAA;QACAC,UAAA;MACA;MAEAC,aAAA;QACA;QACA,KAAAC,KAAA,CAAAC,IAAA;UAAA,QAAAP;QAAA;;QAEA;QACA,KAAAA,QAAA,CAAAjB,IAAA;QACA,KAAAiB,QAAA,CAAAQ,GAAA;QACA,KAAAR,QAAA,CAAAS,KAAA;;QAEA;QACA,KAAAV,SAAA;MACA;IACA;EACA;EACAW,QAAA;IACA,KAAAC,SAAA;EACA;EACAC,OAAA;IACA,MAAAD,UAAA;MACA;MACA;QACAE,OAAA,CAAAC,GAAA;QACA,MAAAC,cAAA,OAAA1C,kBAAA;QACA,MAAA2C,eAAA,OAAA1C,eAAA,CAAAyC,cAAA;QACA,MAAA/B,IAAA,SAAAgC,eAAA,CAAAC,OAAA,MAAA3B,KAAA;QACAuB,OAAA,CAAAC,GAAA,CAAA9B,IAAA,CAAAA,IAAA,CAAAA,IAAA;QACA,KAAAC,IAAA,GAAAD,IAAA,CAAAA,IAAA,CAAAA,IAAA;QACA,KAAAkC,UAAA,GAAAlC,IAAA,CAAAmC,KAAA;MACA,SAAAC,KAAA;QACAP,OAAA,CAAAO,KAAA,8BAAAA,KAAA;MACA;QACA;MAAA;IAEA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}